<div #card>
  <nz-card [nzBordered]="false">
    <sf
      [layout]="'vertical'"
      #sf
      [schema]="schema"
      [formData]="editData"
      (formSubmit)="submit($event)"
      [loading]="loading"
    >
      <ng-template sf-template="personId" let-me let-ui="ui" let-schema="schema">
        <button
          type="button"
          [disabled]="mode === 'edit'"
          nz-button
          nzType="dashed"
          nzSize="default"
          (click)="openModal()"
          nzSearch
        >
          Search
        </button>
        <input
          *ngIf="me.formProperty.value"
          nz-input
          [attr.id]="me.id"
          [readonly]="me.disabled"
          [nzSize]="ui.size"
          [ngModel]="me.formProperty.value.namaLengkap"
        />
      </ng-template>
      <ng-template sf-template="sktmUpload" let-me let-ui="ui" let-schema="schema">
        <nz-upload
          [nzBeforeUpload]="beforeUpload"
          (nzChange)="changedStatusUpload($event)"
          [nzAction]="uploadAction"
          [(nzFileList)]="fileList"
          [nzPreview]="preview"
        >
          <button type="button" nz-button><i nz-icon nzType="upload"></i><span>Click to Upload</span></button>
        </nz-upload>
      </ng-template>
    </sf>
  </nz-card>
</div>

<ng-template #listPerson>
  <app-list-person [parent]="true" (dataPerson)="closeModalAndSaveData($event)"></app-list-person>
</ng-template>
